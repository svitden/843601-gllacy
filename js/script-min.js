var linkFeedback=document.querySelector(".feedback-button"),popupFeedback=document.querySelector(".modal-feedback"),closeFeedback=document.querySelector(".modal-close"),modalOverlay=document.querySelector(".modal-overlay"),form=popupFeedback.querySelector("form"),userName=popupFeedback.querySelector("[name=name]"),feedbackEmail=popupFeedback.querySelector("[name=feedback-email]"),commentField=popupFeedback.querySelector("[name=comment]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("userName")}catch(e){isStorageSupport=!1}popupFeedback&&linkFeedback.addEventListener("click",function(e){e.preventDefault(),popupFeedback.classList.add("modal-show"),modalOverlay.classList.add("modal-show"),storage?(userName.value=storage,feedbackEmail.focus()):userName.focus()}),closeFeedback.addEventListener("click",function(e){e.preventDefault(),popupFeedback.classList.remove("modal-show"),modalOverlay.classList.remove("modal-show"),popupFeedback.classList.remove("modal-error")}),form.addEventListener("submit",function(e){userName.value&&feedbackEmail.value&&commentField.value?isStorageSupport&&localStorage.setItem("userName",userName.value):(e.preventDefault(),popupFeedback.classList.remove("modal-error"),popupFeedback.offsetWidth=popupFeedback.offsetWidth,popupFeedback.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupFeedback.classList.contains("modal-show")&&(popupFeedback.classList.remove("modal-show"),modalOverlay.classList.remove("modal-show"),popupFeedback.classList.remove("modal-error")))});
